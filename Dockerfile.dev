# ===================================
# ðŸš€ Dockerfile.dev â€” VersiÃ³n ligera
# ===================================
FROM node:20-slim

# Instala solo librerÃ­as mÃ­nimas necesarias
RUN apt-get update && apt-get install -y \
    python3 \
    build-essential \
    pkg-config \
    && rm -rf /var/lib/apt/lists/*

# Carpeta de trabajo
WORKDIR /app

# Copia dependencias y configura nodemon
COPY package*.json ./
RUN npm install && npm install --save-dev nodemon

# Copia el resto del cÃ³digo
COPY . .

# Variables para desarrollo
ENV NODE_ENV=development
EXPOSE 3000

# Comando con autoreload
CMD ["npm", "run", "dev"]
